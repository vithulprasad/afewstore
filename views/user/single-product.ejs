

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IsFewStore</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
  <link rel="icon" href="img/favicon.png">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- animate CSS -->
  <link rel="stylesheet" href="css/animate.css">
  <!-- owl carousel CSS -->
  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <!-- nice select CSS -->
  <link rel="stylesheet" href="css/nice-select.css">
  <!-- font awesome CSS -->
  <link rel="stylesheet" href="css/all.css">
  <!-- flaticon CSS -->
  <link rel="stylesheet" href="css/flaticon.css">
  <link rel="stylesheet" href="css/themify-icons.css">
  <!-- font awesome CSS -->
  <link rel="stylesheet" href="css/magnific-popup.css">
  <!-- swiper CSS -->
  <link rel="stylesheet" href="css/slick.css">
  <link rel="stylesheet" href="css/price_rangs.css">
  <!-- style CSS -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
</head>
<body style="
width: 1900px;
">

<header class="main_menu home_menu">
  <div class="container-fluid" style="border-bottom: solid 2px; background-color: #ff3368;margin-top: 0px;">
      <div class="row align-items-center">
          <div class="col-lg-12"style="margin:0;">
              <nav class="navbar navbar-expand-lg navbar-light">
                <a class="navbar-brand" href="home"><h2 class="heading" style="font-size: xx-large;font-weight: bold;"> IsFew<s style="text-decoration: none;color: rgb(221, 76, 124);">Store</s></h2>  </a>                  <button class="navbar-toggler" type="button" data-toggle="collapse"
                      data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                      aria-expanded="false" aria-label="Toggle navigation">
                      <span class="menu_icon"><i class="fas fa-bars"></i></span>
                  </button>

                  <div class="collapse navbar-collapse main-menu-item" id="navbarSupportedContent">
                      <ul class="navbar-nav">
                          <li class="nav-item">
                              <a class="nav-link" href="home">Home</a>
                          </li>
                          <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="blog.html" id="navbarDropdown_1"
                                role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Shop
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown_1">
                                <a class="dropdown-item" href="category"> shop category</a>
                                
                                <a class="dropdown-item" href="cartPage">shopping cart</a>
                              
                                
                            </div>
                        </li>
                        <%if(typeof userData !== 'undefined'){%>
                       
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="blog.html" id="navbarDropdown_3"
                                    role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Account
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown_2">
                                   
                                    <a class="dropdown-item" href=" /profile?id=<%=userData._id %>">PROFILE</a> 
                                    <a class="dropdown-item" href="confirmation">ORDERS</a>
                                    <a class="dropdown-item" href="logout">LOGOUT</a>
                                    
                                    
                                </div>
                            </li>
                   

                        <%}else{%>
                            <li class="nav-item"">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="blog.html" id="navbarDropdown_3"
                                role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Account
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown_2">
                               
                                <a class="dropdown-item" href="#">PROFILE</a> 
                                <a class="dropdown-item" href="confirmation">ORDERS</a>
                               
                                
                            </div>
                        </li>
                        <a action="login"  class="nav-link"type="logout" href="/login" style="padding-top: 25px;"><button style="width: 100px;height: 30px;background-color: palevioletred;color: aliceblue;border: none;">login/signup</button></a>

                    </li>
                        <%}%>
                      
                          
                         
                        
                      </ul>
                  </div>
                  <div class="hearer_icon d-flex">
                      <a id="search_1" href="javascript:void(0)"><i class="ti-search"></i></a>
                      <a href=""><i class="ti-heart"></i></a>
                      <div class="dropdown cart">
                          <a class="dropdown-toggle" href="#" id="navbarDropdown3" role="button"
                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                              <i class="fas fa-cart-plus"></i>
                          </a>
                      
                          
                      </div>
                  </div>
              </nav>
          </div>
      </div>
  </div>

</header>


<div class="container mt-5 mb-5"style="padding-top:200px;">
  <div class="card">
      <div class="row g-0">
          <div class="col-md-6 border-end">
              <div class="d-flex flex-column justify-content-center">

                <div class="main_image">
                  <img class="product-image" src="/prodectImages/<%=ProductData.image[0] %>" id="main_product_image" width="350">
           
                </div>
                     
               





                  <div class="thumbnail_images">
                      <ul id="thumbnail">
                        <% for( let  i= 0;  i< ProductData.image.length; i++ ) { %>
                          <li><img onclick="changeImage(this)" src="/prodectImages/<%=ProductData.image[i] %>" width="70"></li>
                          
                          <% } %>
                         
                      </ul>
                  </div>
              </div>
          </div>



          <div class="zoom-image" style="width: 1000px;height: 1000px;margin-left:-600px;margin-top: -400px;"></div>




          <div class="col-md-6" id="myElement" >
              <div class="p-3 right-side">
                  <div class="d-flex justify-content-between align-items-center">
                      <h3><%=ProductData.name %></h3>
                      <span class="heart"><i class='bx bx-heart'></i></span>
                  </div>
                  <div class="mt-2 pr-3 content">
                      <p><%=ProductData.discription %></p>
                  </div>
                  <div style="display: flex;justify-content: space-around;margin-top: 20px;margin-bottom: 20px;">
                    <h3>$<%=ProductData.price %></h3>
                    <h3 style="color: red;">$<strike><%=ProductData.offerPrice %></strike></h3>
                  </div>
                 <h4>category-:<%=ProductData.category.name %></h4>
                 <% if (ProductData.quantity==0) { %>
                  <h6>quantity:-<h3 style="color: rgb(128, 0, 0);">OUT OF STOKE</h3></h6>
                 <% }else{ %>
                  <h6>quantity:-<h3 style="color: rgb(9, 182, 0);">IN STOKE</h3></h6>
                <% } %>

                  <div class="ratings d-flex flex-row align-items-center">
                      <div class="d-flex flex-row">
                          <i class='bx bxs-star'></i>
                          <i class='bx bxs-star'></i>
                          <i class='bx bxs-star'></i>
                          <i class='bx bxs-star'></i>
                          <i class='bx bx-star'></i>
                      </div>
                      <span>441 reviews</span>
                  </div>
                  <div class="mt-5">
                      <span class="fw-bold">Color</span>
                      <div class="colors">
                          <ul id="marker">
                              <li id="marker-1"></li>
                              <li id="marker-2"></li>
                              <li id="marker-3"></li>
                              <li id="marker-4"></li>
                              <li id="marker-5"></li>
                          </ul>
                      </div>
                  </div>

                  <div class="buttons d-flex flex-row mt-5 gap-3">
                      <button class="btn btn-outline-dark">Buy Now</button>
                      <% if (ProductData.quantity==0) { %>
                        <button class="btn btn-dark">Add to Basket</button>
                       <% }else{ %>
                        <button onclick="cart('<%=ProductData._id %>')" class="btn btn-dark">Add to Basket</button>
                      <% } %>
                    
                  </div>
                  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.6/dist/sweetalert2.min.js"></script>
                  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.6/dist/sweetalert2.min.js"></script>

                  <script>
                    const cart = function(id) {
                      console.log('Adding item to cart:', id);
                  
                      $.ajax({
                        url: '/cartAdd',
                        method: 'PATCH',
                        dataType: 'json',
                        data: {
                          id: id
                        },
                        success: function(data) {
                          if (data.success) {
                            Swal.fire(
                              'Success!',
                              'Item added to cart.',
                              'success'
                            );
                            alert("product purchased successfully")
                          } else {
                            Swal.fire(
                              'Error!',
                              'Failed to add item to cart.',
                              'error'
                            );
                          }
                        },
                        error: function(xhr, status, error) {
                          Swal.fire(
                            'Error!',
                            'An error occurred while adding item to cart.',
                            'error'
                          );
                        }
                      });
                    };
                  </script>
               
              </div>
          </div>
      </div>
  </div>
</div>
<%- include('../user/headerUser/footer.ejs') %>
  <style>

   body{background-color: #ecedee}.card{border: none;overflow: hidden}.thumbnail_images ul{list-style: none;justify-content: center;display: flex;align-items: center;margin-top:10px}.thumbnail_images ul li{margin: 5px;padding: 10px;border: 2px solid #eee;cursor: pointer;transition: all 0.5s}.thumbnail_images ul li:hover{border: 2px solid #000}.main_image{display: flex;justify-content: center;align-items: center;border-bottom: 1px solid #eee;height: 400px;width: 100%;overflow: hidden}.heart{height: 29px;width: 29px;background-color: #eaeaea;border-radius: 50%;display: flex;justify-content: center;align-items: center}.content p{font-size: 12px}.ratings span{font-size: 14px;margin-left: 12px}.colors{margin-top: 5px}.colors ul{list-style: none;display: flex;padding-left: 0px}.colors ul li{height: 20px;width: 20px;display: flex;border-radius: 50%;margin-right: 10px;cursor: pointer}.colors ul li:nth-child(1){background-color: #6c704d}.colors ul li:nth-child(2){background-color: #96918b}.colors ul li:nth-child(3){background-color: #68778e}.colors ul li:nth-child(4){background-color: #263f55}.colors ul li:nth-child(5){background-color: black}.right-side{position: relative}.search-option{position: absolute;background-color: #000;overflow: hidden;align-items: center;color: #fff;width: 200px;height: 200px;border-radius: 49% 51% 50% 50% / 68% 69% 31% 32%;left: 30%;bottom: -250px;transition: all 0.5s;cursor: pointer}.search-option .first-search{position: absolute;top: 20px;left: 90px;font-size: 20px;opacity: 1000}.search-option .inputs{opacity: 0;transition: all 0.5s ease;transition-delay: 0.5s;position: relative}.search-option .inputs input{position: absolute;top: 200px;left: 30px;padding-left: 20px;background-color: transparent;width: 300px;border: none;color: #fff;border-bottom: 1px solid #eee;transition: all 0.5s;z-index: 10}.search-option .inputs input:focus{box-shadow: none;outline: none;z-index: 10}.search-option:hover{border-radius: 0px;width: 100%;left: 0px}.search-option:hover .inputs{opacity: 1}.search-option:hover .first-search{left: 27px;top: 25px;font-size: 15px}.search-option:hover .inputs input{top: 20px}.search-option .share{position: absolute;right: 20px;top: 22px}.buttons .btn{height: 50px;width: 150px;border-radius: 0px !important}
   .main_image {
  position: relative;
  width: 500px;
}

.product-image {
  width: 100%;
  height: auto;
}

.zoom-image {
  position: absolute;
 background-color: #000;
  top: 400px;
  left: 100%;
 
  background-repeat: no-repeat;
  background-size: cover;
  display: none;
}
 
  </style>
  <script>
    const productImage = document.querySelector(".product-image");
const zoomImage = document.querySelector(".zoom-image");
const zoo= document.getElementById("#zoo");

productImage.addEventListener("mousemove", function(e) {
  
          let element = document.getElementById("myElement");
          element.style.display = "none";
 
          const x = e.clientX - productImage.offsetLeft-700;
          const y = e.clientY - productImage.offsetTop-400;


  zoomImage.style.backgroundImage = `url(${productImage.src})`;
  zoomImage.style.backgroundPosition = `-${2*x}px -${2*y}px`;


  zoomImage.style.display = "block";

});

productImage.addEventListener("mouseout", function() {
  let element = document.getElementById("myElement");
  element.style.display = "block";
  zoomImage.style.display = "none";

});

    function changeImage(element) {



    var main_prodcut_image = document.getElementById('main_product_image');
    main_prodcut_image.src = element.src;


}
  </script>
          </script>
          <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
          <!--::footer_part end::-->
      
          <!-- jquery plugins here-->
          <script src="js/jquery-1.12.1.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      
          <script src="https://kit.fontawesome.com/ffa08c7a09.js" crossorigin="anonymous"></script>
      
          <!-- popper js -->
          <script src="js/popper.min.js"></script>
          <!-- bootstrap js -->
          <script src="js/bootstrap.min.js"></script>
          <!-- easing js -->
          <script src="js/jquery.magnific-popup.js"></script>
          <!-- swiper js -->
          <script src="js/swiper.min.js"></script>
          <!-- swiper js -->
          <script src="js/masonry.pkgd.js"></script>
          <!-- particles js -->
          <script src="js/owl.carousel.min.js"></script>
          <script src="js/jquery.nice-select.min.js"></script>
          <!-- slick js -->
          <script src="js/slick.min.js"></script>
          <script src="js/jquery.counterup.min.js"></script>
          <script src="js/waypoints.min.js"></script>
          <script src="js/contact.js"></script>
          <script src="js/jquery.ajaxchimp.min.js"></script>
          <script src="js/jquery.form.js"></script>
          <script src="js/jquery.validate.min.js"></script>
          <script src="js/mail-script.js"></script>
          <!-- custom js -->
          <script src="js/custom.js"></script>
</body>
</html>


