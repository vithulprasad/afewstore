<!doctype html>
<html lang="zxx">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>IsFewStore</title>
    <link rel="icon" href="/img/favicon.png">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <!-- animate CSS -->
    <link rel="stylesheet" href="/css/animate.css">
    <!-- owl carousel CSS -->
    <link rel="stylesheet" href="/css/owl.carousel.min.css">
    <!-- font awesome CSS -->
    <link rel="stylesheet" href="/css/all.css">
    <!-- flaticon CSS -->
    <link rel="stylesheet" href="/css/flaticon.css">
    <link rel="stylesheet" href="/css/themify-icons.css">
    <!-- font awesome CSS -->
    <link rel="stylesheet" href="/css/magnific-popup.css">
    <!-- swiper CSS -->
    <link rel="stylesheet" href="/css/slick.css">
    <!-- style CSS -->
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://kit.fontawesome.com/ffa08c7a09.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
   <link rel="stylesheet" href="/custom.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
    <!--::header part start::-->
    <%- include('../user/headerUser/header.ejs') %>
    <!-- Header part end-->
<!-- Button trigger modal -->

<%if(typeof userData !== 'undefined'){%> 
      
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              WALLET BALANCE: <h3 style="color:red"><%=userData.wallet%></h3>
            </div>
            
        
            <div style="margin-left: 30px;">
          

           
             
           
            
        </div>
            
            <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <a href="UsedAddress">   <button type="button" class="btn btn-success">WALLET HISTORY</button></a>
            <a href="category">   <button type="button" class="btn btn-primary">PURCHASE PRODUCT</button></a>
            </div>
          </div>
        </div>
      </div>
    <% }else{ %>
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  WALLET BALANCE: <h3 style="color:red">0</h3>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <a href="category">   <button type="button" class="btn btn-primary">PURCHASE PRODUCT</button></a>
                </div>
              </div>
            </div>
          </div>
        <% } %>
  <!-- Modal -->

    <!-- banner part start-->
    <section class="banner_part">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-12">
                    <div class="banner_slider owl-carousel">

                        <% bannerData.forEach(element => { %>
                            <div class="single_banner_slider">
                                <div class="row">
                                    <div class="col-lg-5 col-md-8">
                                        <div class="banner_text">
                                            <div class="banner_text_iner">
                                                <h1><%=element.bannerName%></h1>
                                                <p><%=element.description%></p>
                                                <a href="<%=element.bannerUrl%>" class="btn_2">buy now</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="banner_img d-none d-lg-block">
                                        <img src="prodectImages/<%=element.image%>" alt="<%=element.image%>">                                  
                                    </div>
                                </div>
                            </div>
                        <% }) %>
                      
                 
                    
                    </div>
                    <div class="slider-counter"></div>
                </div>
            </div>
        </div>
    </section>
    <!-- banner part start-->

    <!-- feature_part start-->
    <section class="feature_part padding_top">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="section_tittle text-center">
                        <h2>Featured Category</h2>
                    </div>
                </div>
            </div>
            <div class="row align-items-center justify-content-between">


<% for( let index = 0; index < categoryData.length; index++ ) { %>
      <% if (index==0) { %>
        <div class="col-lg-7 col-sm-6">
            <div class="single_feature_post_text">
                <p><%=categoryData[0].name%></p>
                <h3><%=categoryData[0].name%></h3>
                <a href="#" class="feature_btn">EXPLORE NOW <i class="fas fa-play"></i></a>
                <img style="width: 300px;height: 300px;"  height="400px" src="prodectImages/<%=categoryData[0].images%>"  alt="">
            </div>
        </div>
      <% } %>
      <% if (index==1) { %>
        <div class="col-lg-5 col-sm-6">
            <div class="single_feature_post_text">
                <p><%=categoryData[1].name%></p>
                <h3><%=categoryData[1].name%></h3>
                <a href="#" class="feature_btn">EXPLORE NOW <i class="fas fa-play"></i></a>
                <img style="width: 300px;height: 300px;"  src="prodectImages/<%=categoryData[1].images%>"  alt="">
            </div>
        </div>
        <% } %>
        <% if (index==2) { %>
       
            <div class="col-lg-5 col-sm-6">
                <div class="single_feature_post_text">
                    <p><%=categoryData[2].name%></p>
                    <h3><%=categoryData[2].name%></h3>
                    <a href="#" class="feature_btn">EXPLORE NOW <i class="fas fa-play"></i></a>
                    <img style="width: 300px;height: 300px;"  src="prodectImages/<%=categoryData[2].images%>"  alt="">
                </div>
            </div>
            <% } %>
            <% if (index==3) { %>
        
                <div class="col-lg-7 col-sm-6">
                    <div class="single_feature_post_text">
                        <p><%=categoryData[3].name%></p>
                        <h3><%=categoryData[3].name%></h3>
                        <a href="#" class="feature_btn">EXPLORE NOW <i class="fas fa-play"></i></a>
                        <img style="width: 300px;height: 300px;"  src="prodectImages/<%=categoryData[3].images%>"  alt="">
                    </div>
                </div>
                <% } %>
 
   


<% } %>



              
             
            </div>
        </div>
    </section>
    <!-- upcoming_event part start-->

    <!-- product_list start-->
    <section class="product_list section_padding">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-12">
                    <div class="section_tittle text-center">
                        <h2>awesome <span>shop</span></h2>
                    </div>
                </div>
            </div>
            <style>
                .fa-heart-o {
               color: red;
                 cursor: pointer;
                 }

                  .fa-heart {
                  color: red;
                   cursor: pointer;
                 
                  }
                  .heading{
                    font-family: "Poppins", sans-serif;
                    font-weight: bold;
                    font-size: 23px;
                    margin-top: 30px;
                    margin-left: 10px;
                }

            </style>
          
            <div class="row">
                <div class="col-lg-12">
                    <div class="product_list_slider owl-carousel">
                        <div class="single_product_list_slider">
                            <div class="row align-items-center justify-content-between">

                              
                          
                                <% if(productData.length >0){
                                    for(let i=0;i<8;i++){
                                      %>
                                      <a href="/singleProduct?id=<%=productData[i]._id %>"> <div class="col-lg-3 col-sm-6">
                                    <div class="single_product_item" style="background-color: rgb(255, 254, 252);">
                                        <img width="255px" height="271px" src=" prodectImages/<%=productData[i].image[0] %> " alt="<%= productData[i].image[0] %> ">
                                        <div class="single_product_item">
                                            <h4 class="heading" ><%= productData[i].name %></h4>
                                           <div style="display: flex;justify-content: space-around;"><ul><h3 class="heading-2">$ <%= productData[i].price %></h3></ul> <del><h3 class="heading-2"style="color:grey">$ <%= productData[i].price-productData[i].offerPrice %></h3></del></div>
                                           <%if (productData[i].quantity==0) {%>
                                            <p class="heading-3"style="margin:10px">Click on the heart to love or un-love this post.</p>
                                             <i style="color: white;background-color: red;font-weight: bold;">OUT OF STOKE</i>
                                             <a href="#" style="margin-left: 60px;margin-bottom: 10px;"> <button data-toggle="modal" data-target="#exampleModal" data-whatever="@fat" type="button" class="btn btn-dark">ADD TO CART</button></a>                                            
                                             <a class="clickbtn"onclick='Notification("WISHLIST", "PRODUCT IS SUCCESSFULLY ADDED TO THE WISHLIST", "good")'><button style="background-color: white;border: none;" onclick="wishlist('<%=productData[i]._id %>')"><span style="margin-left: 20px;" id = heart><i class="fa fa-heart-o" >
                                                </i> </span></button></a>
                                          <% }else{%>
                                            <p class="heading-3"style="margin:10px">Click on the heart to love or un-love this post.</p>
                                             
                                            <a  onclick="cart('<%=productData[i]._id %>')" style="margin-left: 60px;margin-bottom: 10px;"> <button  type="button" class="btn btn-dark">ADD TO CART</button></a><a class="clickbtn"onclick='Notification("WISHLIST", "PRODUCT IS SUCCESSFULLY ADDED TO THE WISHLIST", "good")'><button style="background-color: white;border:solid 1px white" onclick="wishlist('<%=productData[i]._id %>')"><span style="margin-left: 20px;" id = heart><i class="fa fa-heart-o" ></i> </span></button></a>
                                           <% } %>
                                            </div>
                                        
                                    </div>
                                </div> </a> 
                                 <%
                                    }
                                  } %>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- product_list part start-->
  
<script>
    const cart= function(id) {
   console.log('it is working----#');
  
   $.ajax({
       url: '/cartAdd',
       method: 'PATCH',
       dataType: 'json',
       data: {
           id: id
       }
   }).done(data => {
       if (data.success==true) {
        Swal.fire(
         'Good job!',
           'Your order is added to cart successfully',
           'success'
)
       }
   })
}
    
    
    </script>




    <%- include('../user/headerUser/footer.ejs') %>
    <div id="Notifications"></div>

<style>
    #Notifications {
	position: fixed;
	right: 0;
	top: 0;
} div.Notification {
	display: table;
	min-width: 250px;
	box-shadow: 0 0 3px black;
} div.Notification div.Content {
	padding: 3px;
	margin-left: 70px;
	margin-right: 10px;
} div.Notification h1 {
	padding: 0;
	margin: 0;
} div.Notification.good {
	background-color: #abffcd;
} div.Notification.warning {
	background-color: #ffc693;
} div.Notification.error {
	background-color: #ff9593;
} div.Notification div.ProgressDiv {
	
} div.Notification div.Image {
	width: 60px;
	height: 60px;
	float: left;
	background-size: cover;
} div.Notification div.ProgressDiv div {
	height: 3px;
	width: 0%;
	box-shadow: 0 0 1px black;
} div.Notification.good div.Content {
	color: #009e0a;
} div.Notification.warning div.Content {
	color: #c55c00;
} div.Notification.error div.Content {
	color: #b30300;
} div.Notification.good div.ProgressDiv div {
	background-color: #009e0a;
} div.Notification.warning div.ProgressDiv div {
	background-color: #c55c00;
} div.Notification.error div.ProgressDiv div {
	background-color: #b30300;
} div.Notification.good div.Image {
	background-image: url('https://magicdoor.co.za/images/codepen/good.jpg');
} div.Notification.warning div.Image {
	background-image: url('https://magicdoor.co.za/images/codepen/warning.jpg');
} div.Notification.error div.Image {
	background-image: url('https://magicdoor.co.za/images/codepen/error.jpg');
}


button {
  background-color: #3498db;
  color: white;
  padding: 5px 10px;
  border: 0;
  border-radius: 5px;
}
    
    </style>
    <script>

    
    const wishlist = function(id) {
        $.ajax({
        url: '/wishlist',
        method: 'PATCH',
        dataType: 'json',
        data: {
            id: id
        }
    }).done(data => {
 
    });
        
    }

   



        function Notification(Title, Message, Icon){
	var obj										= {};
	obj.progress								= 0;
	obj.fadeTime								= 100;
	obj.fadeTicks								= 50;
	obj.fadeInterval							= 0;
	obj.opacity									= 1;
	obj.time									= 1;
	obj.ticks									= 50;
	obj.element									= null;
	obj.progress								= null;
	obj.progressPos								= 0;
	obj.progressIncrement						= 0;
	obj.Show									= function(){
		obj.element								= document.createElement('div');
		obj.element.className					= "Notification "+Icon;
		image									= document.createElement('div');
		image.onclick 							= function(){obj.Clear();};
		image.className							= "Image";
		obj.element.appendChild(image);
		content									= document.createElement('div');
		content.className						= "Content";
		content.innerHTML						= ""+
		"<h1>"+Title+"</h1>"+
		"<label>"+Message+"</label>"+
		"";
		obj.element.appendChild(content);
		var progressDiv							= document.createElement('div');
		progressDiv.className					= 'ProgressDiv';
		obj.progress							= document.createElement('div');
		progressDiv.appendChild(obj.progress);
		obj.element.appendChild(progressDiv);
		obj.progressIncrement					= 700 / obj.ticks;
		document.getElementById('Notifications').appendChild(obj.element);
		obj.StartWait();
	};
	obj.StartWait								= function(){
		if(obj.progressPos >= 1000){
			obj.fadeInterval					= 1;
			obj.FadeTick();
			return;
		}
		setTimeout(obj.Tick, obj.time);
	};
	obj.Clear									= function(){
		obj.opacity								= 0;
		obj.progressPos							= 700;
		obj.element.remove();
		obj										= null;
		return;
	};
	obj.FadeTick								= function(){
		obj.opacity								= ((obj.opacity * 100) - obj.fadeInterval) / 100;
		if(obj.opacity <= 0){
			obj.element.remove();
			obj									= null;
			return;
		}
		obj.element.style.opacity				= obj.opacity;
		setTimeout(obj.FadeTick, (obj.fadeTime / obj.fadeTicks));
	};
	obj.Tick									= function(){
		obj.progressPos							+= obj.progressIncrement;
		obj.progress.style.width				= obj.progressPos+"%";
		obj.StartWait();
	};
	obj.Show();
	return obj;
}
        
        
        </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <!--::footer_part end::-->

    <!-- jquery plugins here-->
    <script src="js/jquery-1.12.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="https://kit.fontawesome.com/ffa08c7a09.js" crossorigin="anonymous"></script>

    <!-- popper js -->
    <script src="js/popper.min.js"></script>
    <!-- bootstrap js -->
    <script src="js/bootstrap.min.js"></script>
    <!-- easing js -->
    <script src="js/jquery.magnific-popup.js"></script>
    <!-- swiper js -->
    <script src="js/swiper.min.js"></script>
    <!-- swiper js -->
    <script src="js/masonry.pkgd.js"></script>
    <!-- particles js -->
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <!-- slick js -->
    <script src="js/slick.min.js"></script>
    <script src="js/jquery.counterup.min.js"></script>
    <script src="js/waypoints.min.js"></script>
    <script src="js/contact.js"></script>
    <script src="js/jquery.ajaxchimp.min.js"></script>
    <script src="js/jquery.form.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/mail-script.js"></script>
    <!-- custom js -->
    <script src="js/custom.js"></script>
</body>

</html>